<div>
    <div style="position: relative;width: 1650px;height: 250px;">
        <dl style="float: left;width: 350px;border: 1px solid #c0c4cc;border-radius: 14px;height: 200px;margin-left: 30px;margin-top: 30px">
            <dt style="border-bottom:1px solid #2D93CA;">
                <div style="position: relative;width: 270px;height: 40px;line-height: 40px;margin: auto;margin-top: 15px;">
                    <p style="float: left;font-size: 15px;color: #c0c4cc;">总销售额</p>
                    <i class="layui-icon" title="总销售额：126560" style="float: right;color: #c0c4cc;">&#xe60b;</i>
                </div>
                <p style="font-size: 15px;font-size: 30px;margin-left: 38px;">126,560</p>
            </dt>
            <dd style="margin-left: 30px;margin-top: 40px;font-size: 15px;height: 80px;line-height: 30px">
                <div style="position: relative;color: #c0c4cc;height: 30px;width: 290px;">
                    <span style="float: left;margin-right: 25px">
                        <p style="float: left">周期比</p>
                        <i class="layui-icon" style="color: #00FF00;float: left">&#xe623;</i>
                        <p style="float: left">12%</p>
                    </span>
                    <span style="float: left;margin-right: 25px">
                        <p style="float: left">日环比</p>
                        <i class="layui-icon" style="color: #FD482C;float: left">&#xe623;</i>
                        <p style="float: left">12%</p>
                    </span>
                </div>
            </dd>
        </dl>

        <dl style="float: left;width: 350px;border: 1px solid #c0c4cc;border-radius: 14px;height: 200px;margin-left: 30px;margin-top: 30px">
            <dt style="border-bottom:1px solid #2D93CA;">
                <div style="position: relative;width: 270px;height: 40px;line-height: 40px;margin: auto;margin-top: 15px;">
                    <p style="float: left;font-size: 15px;color: #c0c4cc;">客户量</p>
                    <i class="layui-icon" title="客户量：864" style="float: right;color: #c0c4cc;">&#xe60b;</i>
                </div>
                <p style="font-size: 15px;font-size: 30px;margin-left: 38px;">864</p>
            </dt>
            <dd style="margin-left: 30px;margin-top: 40px;font-size: 15px;height: 80px;line-height: 30px">
                <div style="position: relative;color: #c0c4cc;height: 30px;width: 290px;">
                    <span style="float: left;margin-right: 25px">
                        <p style="float: left">周期比</p>
                        <i class="layui-icon" style="color: #00FF00;float: left">&#xe623;</i>
                        <p style="float: left">12%</p>
                    </span>
                    <span style="float: left;margin-right: 25px">
                        <p style="float: left">日环比</p>
                        <i class="layui-icon" style="color: #FD482C;float: left">&#xe623;</i>
                        <p style="float: left">12%</p>
                    </span>
                </div>
            </dd>
        </dl>

        <dl style="float: left;width: 350px;border: 1px solid #c0c4cc;border-radius: 14px;height: 200px;margin-left: 30px;margin-top: 30px">
            <dt style="">
                <div style="position: relative;width: 270px;height: 40px;line-height: 40px;margin: auto;margin-top: 15px;">
                    <p style="float: left;font-size: 15px;color: #c0c4cc;">合同签订数</p>
                    <i class="layui-icon" title="合同签订数：6,560" style="float: right;color: #c0c4cc;">&#xe60b;</i>
                </div>
                <p style="font-size: 15px;font-size: 30px;margin-left: 38px;">6,560</p>
            </dt>
            <dd style="margin-left: 30px;margin-top: 20px;font-size: 15px;height: 80px;line-height: 30px">
                <div style="width: 290px;height: 48px;border-bottom:1px solid #2D93CA;"></div>
                <div style="position: relative;color: #c0c4cc;height: 30px;width: 290px;">
                    <span style="float: left;margin-right: 25px">
                        <p style="float: left">月均合同数：</p>
<!--                        <i class="layui-icon" style="color: #00FF00;float: left">&#xe623;</i>-->
                        <p style="float: left">22</p>
                    </span>
<!--                    <span style="float: left;margin-right: 25px">-->
<!--                        <p style="float: left">日环比</p>-->
<!--                        <i class="layui-icon" style="color: #FD482C;float: left">&#xe623;</i>-->
<!--                        <p style="float: left">12%</p>-->
<!--                    </span>-->
                </div>
            </dd>
        </dl>

        <dl style="float: left;width: 350px;border: 1px solid #c0c4cc;border-radius: 14px;height: 200px;margin-left: 30px;margin-top: 30px">
            <dt style="">
                <div style="position: relative;width: 270px;height: 40px;line-height: 40px;margin: auto;margin-top: 15px;">
                    <p style="float: left;font-size: 15px;color: #c0c4cc;">产品利用率</p>
                    <i class="layui-icon" title="产品利用率：78%" style="float: right;color: #c0c4cc;">&#xe60b;</i>
                </div>
                <p style="font-size: 15px;font-size: 30px;margin-left: 38px;">78%</p>
            </dt>
            <dd style="margin-left: 30px;margin-top: 20px;font-size: 15px;height: 80px;line-height: 30px">
                <div style="width: 290px;height: 48px;border-bottom:1px solid #2D93CA;"></div>
                <div style="position: relative;color: #c0c4cc;height: 30px;width: 290px;">
                    <span style="float: left;margin-right: 25px">
                        <p style="float: left">周期比</p>
                        <i class="layui-icon" style="color: #00FF00;float: left">&#xe623;</i>
                        <p style="float: left">12%</p>
                    </span>
                    <span style="float: left;margin-right: 25px">
                        <p style="float: left">日环比</p>
                        <i class="layui-icon" style="color: #FD482C;float: left">&#xe623;</i>
                        <p style="float: left">12%</p>
                    </span>
                </div>
            </dd>
        </dl>
    </div>
    <div style="width: 1650px;height: 1050px;;margin-top: 20px;">
        <div id="head" style="position: relative;width: 1650px;height: 50px;border-bottom: 3px solid #c0c4cc;">
            <div style="position: relative;float: left;width: 300px;height: 50px;line-height: 50px">
                <span style="float:left;height: 50px;width: 150px;text-align: center;border-bottom: 3px solid #1E9FFF;;color: #1E9FFF;cursor: pointer;font-size: 25px;">销售额</span>
                <span style="float:left;height: 50px;width: 150px;text-align: center;border-bottom: 3px solid #c0c4cc;cursor: pointer;font-size: 25px;">访问量</span>
            </div>
            <div style="position:relative;float: right;height: 50px;line-height: 50px;margin-right: 50px;">
                <span style="float: left;height: 50px;line-height: 50px;width: 50px;text-align: center;cursor: pointer;">今日</span>
                <span style="float: left;height: 50px;line-height: 50px;width: 50px;text-align: center;cursor: pointer;">本周</span>
                <span style="float: left;height: 50px;line-height: 50px;width: 50px;text-align: center;cursor: pointer;">本月</span>
                <span style="float: left;height: 50px;line-height: 50px;width: 50px;text-align: center;cursor: pointer;">全年</span>
                <div class="layui-inline" style="float:left;height: 50px;line-height: 50px;margin-left: 30px;cursor: pointer;">
<!--                    <label class="layui-form-label" style="height: 50px;padding: 0px;line-height: 50px;width: 80px;text-align: center;">日期范围</label>-->
                    <div class="layui-input-inline" style="height: 35px;">
                        <input type="text" class="layui-input" id="test6" placeholder=" - " style="height: 35px;">
                    </div>
                </div>
            </div>
        </div>
        <div id="body" style="position: relative;width: 1650px;height: 500px;">
            <div style="width: 1100px;height:500px;float: left;">
                <div id="main" style="width: 1000px;height:400px;margin-top: 50px;margin-left: 100px"></div>
            </div>
            <div style="float: right;width: 450px;height: 500px;margin-right: 50px;border: 1px solid #FD482C;">
                <p style="height: 50px;font-size: 25px;line-height: 50px;border: 1px solid #FD482C;">地区销售排名</p>
                <div style="font-size: 18px;width: 450px">
                    <span style="width: 445px;height: 30px;line-height: 30px;background-color: #c0c4cc;position: relative;margin: 10px 0;border: 1px solid #FD482C;">
                        <i style="font-style: normal;float:left;height: 20px;width: 20px;border-radius: 20px;">1</i>
                        <p style="float:left;">中部地区</p>
                        <i style="font-style: normal;float:right;">214,145</i>
                    </span>
                </div>
            </div>
            <div style="width: 1650px;height: 500px">
                <div id="man" style="width: 1650px;height:450px;margin-top: 50px;"></div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts-all-3.js"></script>
<!-- <script src="echart/echarts.js"></script> -->
<script src="echart/china.js"></script>
<script type="text/html" id="barCustomer">
    <a class="layui-btn layui-btn-xs" lay-event="add">新增</a>
    <a class="layui-btn layui-btn-xs" lay-event="edit">修改</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
    <input type="text" id="cusName" autocomplete="off" placeholder="请输入客户姓名查询" style="margin-left: 200px;">
    <a class="layui-btn  layui-btn-xs" lay-event="search">搜索</a>
</script>
<script type="text/html" id="operationBarCustomer">
    <a class="layui-btn layui-btn-xs" lay-event="see">查看</a>
</script>
<script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('man'));

    // 指定图表的配置项和数据
    var option = {
        title: {
            text: '资金出入对比'
        },
        tooltip: {
            trigger: 'axis'
        },
        legend: {
            data: ['收入', '支出']
        },
        toolbox: {
            show: true,
            feature: {
                dataZoom: {
                    yAxisIndex: 'none'
                },
                dataView: {readOnly: false},
                magicType: {type: ['line', 'bar']},
                restore: {},
                saveAsImage: {}
            }
        },
        xAxis: {
            type: 'category',
            boundaryGap: false,
            data: ['一月', '二月', '三月', '四月', '五月', '六月', '七月','八月', '九月', '十月', '十一月', '十二月']
        },
        yAxis: {
            type: 'value',
            axisLabel: {
                formatter: '{value} 万元'
            }
        },
        series: [
            {
                name: '收入',
                type: 'line',
                color: ['#009688'],
                data: [10, 23, 10, 37, 40, 22, 37, 23, 30, 40, 27, 34],
                markPoint: {
                    data: [
                        {type: 'max', name: '最大值'},
                        {type: 'min', name: '最小值'}
                    ]
                },
                markLine: {
                    data: [
                        {type: 'average', name: '平均值'}
                    ]
                }
            },
            {
                name: '支出',
                type: 'line',
                color: ['#A0E1DD'],
                data: [20, 10, 15, 17, 37, 16, 40, 29, 20, 45, 39, 25],
                markPoint: {
                    data: [
                        {name: '周最低', value: -2, xAxis: 1, yAxis: -1.5}
                    ]
                },
                markLine: {
                    data: [
                        {type: 'average', name: '平均值'},
                        [{
                            symbol: 'none',
                            x: '90%',
                            yAxis: 'max'
                        }, {
                            symbol: 'circle',
                            label: {
                                position: 'start',
                                formatter: '最大值'
                            },
                            type: 'max',
                            name: '最高点'
                        }]
                    ]
                }
            }
        ]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
</script>
<script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main'));

    // 指定图表的配置项和数据
    var option = {
        color: ['#74CCC6'],
        tooltip: {
            trigger: 'axis',
            axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
            }
        },
        title: {
            text: '销售额趋势',
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: [
            {
                type: 'category',
                data: ['一月', '二月', '三月', '四月', '五月', '六月', '七月','八月', '九月', '十月', '十一月', '十二月'],
                axisTick: {
                    alignWithLabel: true
                }
            }
        ],
        yAxis: [
            {
                type: 'value',
                axisLabel: {
                    formatter: '{value} 万元'
                }
            }
        ],
        series: [
            {
                name: '销售额',
                type: 'bar',
                barWidth: '60%',
                data: [360, 252, 412, 334, 120, 590, 120, 190, 152, 200, 444, 390]
            }
        ]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
</script>
<script>
    var row = null;
    var table = null;
    layui.use(['table','layer','laydate','jquery'], function () {
        table = layui.table;
        var laydate = layui.laydate;
        layer = layui.layer;
        var $ = layui.jquery;
//日期范围
        laydate.render({
            elem: '#test6'
            ,range: true
        });
        //第一个实例
        table.render({
            elem: '#tabCustomer'
            , height: 'full-150'
            , url: 'http://localhost:8080/customer/customers' //数据接口
            // ,method:'POST'
            , page: true //开启分页
            , toolbar: '#barCustomer'  //添加编辑工具栏按钮
            , defaultToolbar: [] //去掉默认的工具栏按钮
            , limits: [5, 10, 15, 20]
            , limit: 5
            , cols: [[ //表头
                {checkbox: true},
                {field: 'cusNo', title: '客户编号', width: 150},
                {field: 'cusName', title: '客户名称', width: 150},
                {field: 'cusRegion', title: '客户区域', width: 200},
                {field: 'cusAddr', title: '客户地址', width: 300},
                {field: 'cusUrl', title: '客户网站', width: 350},
                {field: 'cusLevel', title: '客户等级', width: 150},
                {
                    field: 'cusCredit', title: '信用等级', templet: function (item) {
                        if (item.cusCredit == '一级') {
                            return '一等'
                        } else {
                            return item.cusCredit
                        }
                    }, width: 150
                },
                {field: 'operation', title: '联系人', width: 200, toolbar: '#operationBarCustomer'}
            ]]
        });

        //监听事件
        table.on('toolbar(tabCustomer)', function (obj) {
            var checkStatus = table.checkStatus(obj.config.id);
            switch (obj.event) {
                case 'add':
                    layer.open({
                        type: 2 //此处以iframe举例
                        , title: '新增客户信息'
                        , area: ['400px', '500px']
                        , shade: 0.5//阴影（0-1之间的数）
                        , maxmin: true//最大、最小化按钮
                        , offset: [ //为了演示，随机坐标
                            ($(window).height() - 500) / 2
                            , ($(window).width() - 400) / 2
                        ]
                        , content: 'customer/customeradd.html'
                    });
                    break;
                case 'del':
                    if (checkStatus.data.length <= 0) {
                        layer.alert("请选择要删除的行");
                        return;
                    }
                    layer.confirm('确认要删除选中的这行吗？', function (index) {
                        var ids = []
                        for (var i = 0; i < checkStatus.data.length; i++) {
                            ids.push(checkStatus.data[i].cusNo)
                        }

                        $.ajax({
                            url: 'http://localhost:8080/customer/delCustomer',
                            type: 'POST',
                            dataType: 'JSON',
                            data: {
                                ids: ids.join(",")
                            },
                            success: function (obj) {
                                layer.msg(obj.msg);
                                table.reload('tabCustomer')
                            }
                        })
                        layer.close(index);
                    });

                    break;
                case 'edit':
                    // debugger;
                    if (checkStatus.data.length <= 0) {
                        layer.alert("请选择要修改的行");
                        return;
                    }
                    row = checkStatus.data[0]
                    layer.open({
                        type: 2 //此处以iframe举例
                        , title: '修改客户信息'
                        , area: ['390px', '450px']
                        , shade: 0.5 //背景阴影0~1
                        , maxmin: true  //最大，最小化按钮
                        , offset: [ //为了演示，随机坐标
                            ($(window).height() - 450) / 2
                            , ($(window).width() - 390) / 2
                        ]
                        , content: 'customer/customerupdate.html'
                        // ,zIndex: layer.zIndex //重点1
                        // ,success: function(layero){
                        //   layer.setTop(layero); //重点2
                        // }
                    });
                    break;
                case 'search':
                    table.reload('tabCustomer', {
                        where: {
                            cusName: $("#cusName").val()
                        },
                        page: {
                            curr: 1
                        }
                    })
                    break;
            }
            ;
        });
        //监听行工具事件  查看
        table.on('tool(tabCustomer)', function (obj) { //注：tool 是工具条事件名，test 是 table 原始容器的属性 lay-filter="对应的值"
            var data = obj.data,	 //获得当前行数据
                layEvent = obj.event; //获得 lay-event 对应的值
            if (layEvent === 'see') {
                // $.ajax({
                //     url: "/teacgercourse/topcourse",
                //     async: true,
                //     cache: false,
                //     type: "get",
                //     dataType: 'json',
                //     data: {
                //         id: id,
                //     },
                //     success: function (data) {
                //         if (data.success) {
                //             alert('置顶成功！');
                //             window.location.reload();
                //         } else {
                //             alert('失败！' + data.errMsg);
                //         }
                //     }
                // })
                layer.open({
                    type: 2, //此处以iframe举例
                    title: '联系人查看',
                    area: ['928px', '600px'],
                    shade: 0.5, //阴影（0-1之间的数）
                    maxmin: true, //最大、最小化按钮
                    offset: [ //为了演示，随机坐标
                        ($(window).height() - 600) / 2, ($(window).width() - 928) / 2
                    ],
                    content: 'customer/conView.html'
                });
            }
        });

    });
</script>

